# AI上下文画布 - 使用指南

## 快速开始

### 1. 启动应用
```bash
cd ai-context-canvas
npm run dev
```
应用将在 http://localhost:5174/ 启动

### 2. 粘贴内容

#### 方法一：键盘粘贴（推荐）
1. 复制你想要的文字或截图（Ctrl+C 或 截图工具）
2. 点击画布任意位置
3. 按 `Ctrl+V` 粘贴

#### 方法二：拖拽文件
直接将图片文件拖拽到画布上

## 常见问题解决

### ❌ 无法粘贴内容？

这通常是浏览器剪贴板权限问题。请按以下步骤操作：

#### Chrome/Edge浏览器
1. 点击地址栏左侧的 🔒 锁图标
2. 找到"剪贴板"权限
3. 选择"允许"
4. 刷新页面
5. 再次尝试粘贴

#### Firefox浏览器
1. 在地址栏输入 `about:config`
2. 搜索 `dom.events.asyncClipboard.clipboardItem`
3. 设置为 `true`
4. 刷新页面

#### Safari浏览器
Safari对剪贴板API的支持较好，通常不需要额外设置。如果遇到问题：
1. 确保Safari版本 >= 13.1
2. 检查"偏好设置" > "网站" > "其他" 中的权限设置

### 💡 权限提示
首次粘贴时，浏览器会弹出权限请求对话框，请点击"允许"。

### 🔄 如果仍然无法粘贴
1. 尝试刷新页面（F5）
2. 清除浏览器缓存
3. 尝试使用无痕/隐私模式
4. 检查浏览器控制台是否有错误信息（F12）

## 功能说明

### 基础操作
- **粘贴内容**: `Ctrl+V` 或 `Cmd+V`（Mac）
- **删除内容**: 选中内容块后按 `Delete`
- **撤销**: `Ctrl+Z`
- **重做**: `Ctrl+Y` 或 `Ctrl+Shift+Z`
- **复制**: `Ctrl+C`（选中内容块）
- **剪切**: `Ctrl+X`（选中内容块）

### 画布操作
- **移动画布**: 按住 `空格键` + 拖动鼠标
- **缩放画布**: 按住 `Alt键` + 鼠标滚轮
- **拖动内容**: 直接拖动内容块
- **多选**: 按住 `Ctrl` 点击多个内容块

### 工具栏功能
- **显示网格**: 切换背景网格显示
- **自动排版**: 按创建时间自动整理内容布局
- **导出PDF**: 将画布内容导出为PDF文件
- **导出Word**: 将画布内容导出为Word文档
- **AI提取总结**: 使用AI分析和总结画布内容
- **清空画布**: 删除所有内容（需确认）
- **设置**: 配置AI提供商和API密钥

## AI功能配置

### 支持的AI提供商
1. **Google Gemini** (推荐)
   - 获取API密钥: https://aistudio.google.com/
   - 模型选择: Gemini 1.5 Pro / Flash

2. **硅基流动**
   - 获取API密钥: https://siliconflow.cn/
   - 支持多种开源模型

3. **阿里云百炼**
   - 获取API密钥: https://bailian.console.aliyun.com/
   - 模型选择: Qwen Max / Plus / Turbo

### 配置步骤
1. 点击工具栏的"设置"按钮
2. 选择你要使用的AI提供商
3. 输入API密钥
4. 勾选"启用"
5. 点击"保存"

### 使用AI提取总结
1. 在画布上添加你的内容（文字、图片）
2. 点击"AI提取总结"按钮
3. 等待AI处理
4. 查看总结结果
5. 可以复制结果到剪贴板

## 数据存储

### 自动保存
- 应用会自动保存你的画布内容到浏览器本地存储（IndexedDB）
- 无需手动保存，关闭浏览器后数据不会丢失
- 刷新页面后内容会自动恢复

### 数据导出
建议定期导出重要内容：
- 使用"导出PDF"或"导出Word"功能
- 文件会自动下载到你的下载文件夹
- 文件名包含时间戳，便于管理

### 清除数据
如需清除所有数据：
1. 点击"清空画布"按钮
2. 或者清除浏览器数据（会删除所有网站数据）

## 性能优化建议

### 内容数量
- 建议单个画布不超过50个内容块
- 图片会自动压缩到800x600以内
- 如内容过多，建议分多个画布管理

### 图片处理
- 支持的格式: PNG, JPG, GIF, WebP
- 自动限制尺寸，避免文件过大
- 建议使用压缩后的图片

### 浏览器兼容性
- Chrome 90+ ✅ 推荐
- Edge 90+ ✅ 推荐
- Firefox 88+ ✅
- Safari 13.1+ ✅
- 不支持IE浏览器

## 快捷键速查表

| 功能 | Windows/Linux | Mac |
|------|---------------|-----|
| 粘贴 | Ctrl+V | Cmd+V |
| 复制 | Ctrl+C | Cmd+C |
| 剪切 | Ctrl+X | Cmd+X |
| 撤销 | Ctrl+Z | Cmd+Z |
| 重做 | Ctrl+Y | Cmd+Y |
| 删除 | Delete | Delete |
| 移动画布 | Space+拖动 | Space+拖动 |
| 缩放画布 | Alt+滚轮 | Alt+滚轮 |

## 使用场景

### 1. AI对话准备
- 截图多张图片
- 粘贴到画布整理
- 导出PDF发送给AI

### 2. 学习笔记
- 复制重要文字
- 截图关键图表
- 自动排版整理
- 导出Word保存

### 3. 资料收集
- 从多个来源收集内容
- 在画布上自由排列
- 使用AI提取关键信息
- 导出分享给团队

### 4. 会议记录
- 实时粘贴讨论要点
- 截图白板内容
- 会后导出完整记录

## 技术支持

如遇到问题：
1. 查看浏览器控制台错误信息（F12）
2. 确认浏览器版本是否支持
3. 尝试清除缓存后重试
4. 检查网络连接（AI功能需要）

## 隐私说明

- 所有数据存储在本地浏览器
- 不会上传到任何服务器（除非使用AI功能）
- AI功能仅在你主动点击时调用
- API密钥加密存储在本地
- 可随时清除所有数据
