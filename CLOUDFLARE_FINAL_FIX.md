# âœ… Cloudflare Pages éƒ¨ç½²é—®é¢˜å·²è§£å†³ï¼

## é—®é¢˜æ ¹æº

ä¹‹å‰çš„æ„å»ºå¤±è´¥æ˜¯å› ä¸ºï¼š

1. âŒ **é”™è¯¯æ·»åŠ äº† `wrangler.toml` æ–‡ä»¶**
   - è¿™ä¸ªæ–‡ä»¶è®© Cloudflare è¯¯ä»¥ä¸ºè¿™æ˜¯ä¸€ä¸ª Worker é¡¹ç›®
   - å¯¼è‡´ç³»ç»Ÿå°è¯•æ‰§è¡Œ `npx wrangler deploy` å‘½ä»¤
   - ä½† wrangler éœ€è¦ Node.js 20+ï¼Œè€Œæˆ‘ä»¬ç”¨çš„æ˜¯ 18

2. âŒ **Node.js ç‰ˆæœ¬è¿‡ä½**
   - æŸäº›ä¾èµ–åŒ…ï¼ˆå¦‚ jsdom@27ï¼‰éœ€è¦ Node.js 20+
   - ä½¿ç”¨ Node.js 18 ä¼šæœ‰å…¼å®¹æ€§è­¦å‘Š

## å·²ä¿®å¤çš„å†…å®¹

âœ… **åˆ é™¤äº† `wrangler.toml` æ–‡ä»¶**
- Cloudflare Pages ä¸éœ€è¦è¿™ä¸ªæ–‡ä»¶
- Pages ä¼šè‡ªåŠ¨éƒ¨ç½² `dist` ç›®å½•çš„å†…å®¹

âœ… **å‡çº§åˆ° Node.js 20.11.0**
- æ›´æ–°äº† `.node-version` æ–‡ä»¶
- æ›´æ–°äº† `.nvmrc` æ–‡ä»¶
- æ›´æ–°äº† `package.json` ä¸­çš„ engines é…ç½®

âœ… **æ¨é€åˆ° GitHub**
- æ‰€æœ‰æ›´æ”¹å·²æäº¤å¹¶æ¨é€
- Cloudflare ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ–°çš„æäº¤å¹¶å¼€å§‹æ„å»º

## ç°åœ¨è¯¥åšä»€ä¹ˆï¼Ÿ

### æ­¥éª¤ 1ï¼šç­‰å¾…è‡ªåŠ¨æ„å»º â°

1. **åˆ·æ–°ä½ çš„ Cloudflare Pages é¡µé¢**
2. ç‚¹å‡» **"éƒ¨ç½²"** (Deployments) æ ‡ç­¾
3. ä½ åº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ªæ–°çš„æ„å»ºæ­£åœ¨è¿›è¡Œ
4. ç­‰å¾… 2-3 åˆ†é’Ÿ

### æ­¥éª¤ 2ï¼šéªŒè¯æ„å»ºæˆåŠŸ âœ…

æ„å»ºæˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
âœ“ Build command completed
âœ“ Deployment completed
```

**ä¸ä¼šå†æœ‰** `npx wrangler deploy` è¿™ä¸€æ­¥ï¼

### æ­¥éª¤ 3ï¼šè®¿é—®ä½ çš„ç½‘ç«™ ğŸŒ

éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®ï¼š
```
https://ai-context-canvas.pages.dev
```

æˆ–è€…ä½ è‡ªå®šä¹‰çš„åŸŸåã€‚

## æ„å»ºæ—¥å¿—åº”è¯¥æ˜¯è¿™æ ·çš„

æˆåŠŸçš„æ„å»ºæ—¥å¿—åº”è¯¥åŒ…å«ï¼š

```
âœ“ Initializing build environment
âœ“ Cloning repository
âœ“ Installing nodejs 20.11.0
âœ“ Installing project dependencies: npm clean-install
âœ“ Executing user build command: npm run build
âœ“ Build command completed
âœ“ Deployment completed
```

**ä¸ä¼šå†æœ‰**ï¼š
- âŒ `Executing user deploy command: npx wrangler deploy`
- âŒ `Wrangler requires at least Node.js v20.0.0`
- âŒ `Failed: error occurred while running deploy command`

## å¦‚æœè¿˜æœ‰é—®é¢˜

### æ£€æŸ¥æ„å»ºé…ç½®

ç¡®ä¿ Cloudflare Pages é¡¹ç›®è®¾ç½®ä¸­ï¼š

1. **æ¡†æ¶é¢„è®¾**ï¼šNone æˆ– Vite
2. **æ„å»ºå‘½ä»¤**ï¼š`npm run build`
3. **æ„å»ºè¾“å‡ºç›®å½•**ï¼š`dist`
4. **æ ¹ç›®å½•**ï¼š`/`ï¼ˆç•™ç©ºï¼‰
5. **Node.js ç‰ˆæœ¬**ï¼š20.xï¼ˆä¼šè‡ªåŠ¨ä» .node-version è¯»å–ï¼‰

### æ‰‹åŠ¨é‡è¯•

å¦‚æœæ²¡æœ‰è‡ªåŠ¨è§¦å‘æ–°æ„å»ºï¼š

1. åœ¨ Cloudflare Pages é¡¹ç›®ä¸­
2. ç‚¹å‡» **"éƒ¨ç½²"** æ ‡ç­¾
3. ç‚¹å‡» **"é‡è¯•éƒ¨ç½²"** æŒ‰é’®

## ä¸ºä»€ä¹ˆä¹‹å‰ä¼šå¤±è´¥ï¼Ÿ

### Cloudflare Pages vs Workers

- **Pages**ï¼šç”¨äºéƒ¨ç½²é™æ€ç½‘ç«™ï¼ˆHTML/CSS/JSï¼‰
  - åªéœ€è¦æ„å»ºå‘½ä»¤å’Œè¾“å‡ºç›®å½•
  - ä¸éœ€è¦ wrangler.toml
  - è‡ªåŠ¨éƒ¨ç½² dist ç›®å½•

- **Workers**ï¼šç”¨äºéƒ¨ç½²åç«¯æœåŠ¡ï¼ˆAPI/å‡½æ•°ï¼‰
  - éœ€è¦ wrangler.toml é…ç½®
  - éœ€è¦æ‰§è¡Œ wrangler deploy
  - éœ€è¦ Node.js 20+

æˆ‘ä»¬çš„é¡¹ç›®æ˜¯ä¸€ä¸ª**å‰ç«¯åº”ç”¨**ï¼Œåº”è¯¥ä½¿ç”¨ **Pages**ï¼Œä¸æ˜¯ Workersï¼

## æ€»ç»“

âœ… åˆ é™¤äº†ä¸å¿…è¦çš„ wrangler.toml
âœ… å‡çº§åˆ° Node.js 20.11.0
âœ… æ¨é€åˆ° GitHub
âœ… Cloudflare ä¼šè‡ªåŠ¨å¼€å§‹æ–°çš„æ„å»º

**ç°åœ¨å°±å» Cloudflare æ§åˆ¶å°æŸ¥çœ‹æ–°çš„æ„å»ºè¿›åº¦ï¼** ğŸš€

---

ğŸ’¡ **æç¤º**ï¼šç”±äºæˆ‘åˆšæ‰æ¨é€äº†ä¿®å¤ï¼ŒCloudflare åº”è¯¥åœ¨ 1-2 åˆ†é’Ÿå†…è‡ªåŠ¨æ£€æµ‹åˆ°å¹¶å¼€å§‹æ–°çš„æ„å»ºã€‚ä½ åªéœ€è¦åˆ·æ–°é¡µé¢ï¼Œç„¶åç­‰å¾…æ„å»ºå®Œæˆå³å¯ï¼

ğŸ‰ **è¿™æ¬¡ä¸€å®šä¼šæˆåŠŸï¼**
